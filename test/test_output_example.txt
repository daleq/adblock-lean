root@Q-firewall:/tmp# ./test_init.sh ./adblock-lean-fake.sh
===== sha256sum of tested script: 260cd221e58fba6a17aab4253af6552a8eae261f867c83a327178cfc3123311d  ./adblock-lean-fake.sh.
Prerequisite package 'procps-ng-vmstat' found.

===== Machine information =====
[    0.000000] Machine model: Linksys E8450 (UBI)

===== Version =====
Linux version 5.15.134 (builder@buildhost) (aarch64-openwrt-linux-musl-gcc (OpenWrt GCC 12.3.0 r23497-6637af95aa) 12.3.0, GNU ld (GNU Binutils) 2.40.0) #0 SMP Mon Oct 9 21:45:35 2023

===== Memory: 'free' command =====
              total        used        free      shared  buff/cache   available
Mem:         502512       79744      347984       15288       74784      357500
Swap:             0           0           0

===== Disk: 'df' command =====
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/root                 4608      4608         0 100% /rom
tmpfs                   251256     15288    235968   6% /tmp
/dev/ubi0_5              84176     12696     67148  16% /overlay
overlayfs:/overlay       84176     12696     67148  16% /
tmpfs                      512         0       512   0% /dev

===== Pre-Test cleanup steps =====
TODO

===== Pre-Test vmstat info =====
procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu-------- -----timestamp-----
 r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st                 PST
 1  0            0       347984            0        74784    0    0     0     0   33   28   0   1  99   0   0 2024-02-16 16:25:22
 0  0            0       347984            0        74784    0    0     0     0  552  813   1   2  98   0   0 2024-02-16 16:25:23
 0  0            0       347984            0        74784    0    0     0     0  504  670   0   1  99   0   0 2024-02-16 16:25:24
 0  0            0       347984            0        74784    0    0     0     0  486  701   0   1  99   0   0 2024-02-16 16:25:25
 0  0            0       347984            0        74784    0    0     0     0  377  623   0   1  99   0   0 2024-02-16 16:25:26
 0  0            0       347984            0        74784    0    0     0     0  404  668   0   1  99   0   0 2024-02-16 16:25:27
 0  0            0       347984            0        74784    0    0     0     0  486  769   0   1  99   0   0 2024-02-16 16:25:28
 0  0            0       347984            0        74784    0    0     0     0  530  735   1   1  99   0   0 2024-02-16 16:25:29
 0  0            0       347984            0        74784    0    0     0     0  464  697   0   1  99   0   0 2024-02-16 16:25:30
 0  0            0       347984            0        74784    0    0     0     0  449  654   0   1  99   0   0 2024-02-16 16:25:31

===== Invoke adblock-lean script =====
procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu-------- -----timestamp-----
 r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st                 PST
 2  0            0       347984            0        74784    0    0     0     0   33   28   0   1  99   0   0 2024-02-16 16:25:31

===== Fake: Running ./adblock-lean-fake.sh.
 0  0            0       347984            0        74788    0    0     0     0  380  634   1   2  98   0   0 2024-02-16 16:25:32
 0  0            0       347984            0        74788    0    0     0     0  458  648   1   2  98   0   0 2024-02-16 16:25:33
 0  0            0       347984            0        74788    0    0     0     0  514  684   1   2  98   0   0 2024-02-16 16:25:34

===== Fake: Doing this
 0  0            0       347984            0        74788    0    0     0     0  571  765   0   3  97   0   0 2024-02-16 16:25:35
 0  0            0       347984            0        74788    0    0     0     0  419  646   0   2  98   0   0 2024-02-16 16:25:36
 0  0            0       347984            0        74788    0    0     0     0  478  654   1   1  98   0   0 2024-02-16 16:25:37

===== Fake: Doing that
 0  0            0       348108            0        74788    0    0     0     0  470  637   0   2  98   0   0 2024-02-16 16:25:38
 0  0            0       348356            0        74788    0    0     0     0  520  704   0   3  98   0   0 2024-02-16 16:25:39
 1  0            0       348356            0        74788    0    0     0     0  468  623   0   2  98   0   0 2024-02-16 16:25:40

===== Fake: Doing other thing
 0  0            0       348384            0        74788    0    0     0     0  499  674   0   2  98   0   0 2024-02-16 16:25:41
 0  0            0       348508            0        74788    0    0     0     0  533  742   0   2  98   0   0 2024-02-16 16:25:42
 0  0            0       348508            0        74788    0    0     0     0  492  680   1   2  97   0   0 2024-02-16 16:25:43

===== Fake: Done.
real    0m 12.02s
user    0m 0.01s
sys     0m 0.00s
 0  0            0       348756            0        74788    0    0     0     0  498  675   0   2  98   0   0 2024-02-16 16:25:44

===== Post-Test vmstat info =====
procs -----------------------memory---------------------- ---swap-- -----io---- -system-- --------cpu-------- -----timestamp-----
 r  b         swpd         free         buff        cache   si   so    bi    bo   in   cs  us  sy  id  wa  st                 PST
 0  0            0       348860            0        74788    0    0     0     0   33   28   0   1  99   0   0 2024-02-16 16:25:44
 0  0            0       349156            0        74788    0    0     0     0  489  664   0   2  99   0   0 2024-02-16 16:25:45
 0  0            0       349156            0        74788    0    0     0     0  434  590   0   0 100   0   0 2024-02-16 16:25:46
 0  0            0       349156            0        74788    0    0     0     0  416  657   0   2  99   0   0 2024-02-16 16:25:47
 0  0            0       349156            0        74788    0    0     0     0  421  673   0   1  99   0   0 2024-02-16 16:25:48
 0  0            0       349156            0        74788    0    0     0     0  440  701   0   2  97   0   0 2024-02-16 16:25:49
 0  0            0       349156            0        74788    0    0     0     0  389  612   0   1  99   0   0 2024-02-16 16:25:50
 0  0            0       349156            0        74788    0    0     0     0  414  649   0   2  98   0   0 2024-02-16 16:25:51
 0  0            0       349156            0        74788    0    0     0     0  474  632   0   1 100   0   0 2024-02-16 16:25:52
 0  0            0       349156            0        74788    0    0     0     0  483  682   0   1  99   0   0 2024-02-16 16:25:53
root@Q-firewall:/tmp#
